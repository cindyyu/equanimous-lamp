<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title></title>
  <meta name="description" content="">
  <meta name="author" content="">

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href='https://fonts.googleapis.com/css?family=Montserrat:700|Karla' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="static/css/main.css">

  <script src='https://api.mapbox.com/mapbox.js/v2.2.2/mapbox.js'></script>
  <link href='https://api.mapbox.com/mapbox.js/v2.2.2/mapbox.css' rel='stylesheet' />

  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>

<body>
  <main>
    <route />
  </main>

  <script src="https://maps.googleapis.com/maps/api/js?callback=initMap&key=AIzaSyC5T7Xqgf66uuDUYz_kDBZIxCC90W2iLyo"
  				async defer>
  </script>
  <script src="https://cdn.jsdelivr.net/riot/2.2/riot.min.js"></script>
  <script src="static/js/lib/ajax.jquery.min.js"></script>
  <script src="static/js/lib/router.js"></script>
  <script src="static/js/lib/secret.js"></script>
  <script src="static/js/lib/tooltip.js"></script>
  <script src="static/js/logo.js"></script>
  <script src="static/js/homepage.js"></script>
  <script src="static/js/results.js"></script>
  <script src="static/js/new.js"></script>
  <script src="static/js/not-found.js"></script>

  <script>
    window.initMap = function() {};

    var Route = riot.router.Route,
        DefaultRoute = riot.router.DefaultRoute,
        NotFoundRoute = riot.router.NotFoundRoute,
        RedirectRoute = riot.router.RedirectRoute;

    riot.router.routes([
      new DefaultRoute({tag: 'homepage'}),
      new Route({tag: 'new'}),
      new Route({tag: 'results'}).routes([
        new Route({path:'/:query', tag: 'results'}),
        new Route({path:'/:query/:when', tag: 'results'})
      ]),
      new NotFoundRoute({tag: 'not-found'}),
      new RedirectRoute({from: 'u', to: 'users/user'})
    ]);

    riot.mount('*');
    riot.router.start();
  </script>
</body>
</html>